function on_load minecraft:load {
	tellraw @a {"text":"Test Framework loaded!", "color":"green"}
}

clock 1s 1t {
	execute store result score #count aj.i if entity @e[type=item_display,tag=aj.global.root]
	title @a actionbar [{"text":"Rig Count: "}, {"score":{"name":"#count","objective":"aj.i"}}]
}

dir armor_stand {
	function summon {
		#ARGS: {args:{...}}
		function animated_java:global/remove/everything
		$execute positioned 0 1 0 rotated 0 0 run function animated_java:armor_stand/summon {args:$(args)}
	}

	function summon_minimal {
		#ARGS: {args:{...}}
		function animated_java:global/remove/everything
		$execute positioned 0 1 0 rotated 0 0 run function animated_java:armor_stand_minimal/summon {args:$(args)}
	}

	function summon_many {
		function animated_java:global/remove/everything
		data remove storage test:temp args
		$data modify storage test:temp args set value {args:$(args)}
		REPEAT (0, 199) as i {
			schedule 1t {
				execute positioned <%i % 16%> 1 <%Math.floor(i / 16)%> rotated 0 0 run function animated_java:armor_stand/summon with storage test:temp args
			}
		}
	}

	function summon_many_minimal {
		function animated_java:global/remove/everything
		data remove storage test:temp args
		$data modify storage test:temp args set value {args:$(args)}
		REPEAT (0, 999) as i {
			schedule 1t {
				execute positioned <%i % 16%> 1 <%Math.floor(i / 16)%> rotated 0 0 run function animated_java:armor_stand_minimal/summon with storage test:temp args
			}
		}
	}
}
